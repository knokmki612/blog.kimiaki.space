---
title: Live2Dアバターをつくった
date: 2022-01-09T16:19:39+09:00
happenDate: 2021-11-14
tags:
  - 日記
archives:
  - 2022
  - 2022-01
images:
  - 20220109_IMG_0027.png
---

[成果物](https://github.com/knokmki612/vtuber/tree/main/%E3%83%87%E3%83%95%E3%82%A9%E3%83%AB%E3%83%A1%E3%83%80%E3%83%BC%E3%83%A9%E3%83%98%E3%82%B9%E3%83%88)はここに公開しているので、よかったらみてみてください。

### どんな風につくったか

#### イラスト起こし

まず最初にiPadとApple Pencilと[Vectornator](https://apps.apple.com/jp/app/vectornator-vector-design/id1219074514)を使って最初のイラストを描きました。元々Apple Pencilでなにか生産的なことをしたくてiPadを買ったので、iPadを所有してから4年目にして、絵を描くという用途で役立てられてよかったです。

{{% image src="20220109_IMG_0025.png" caption="構想段階の絵 ドーベルマンにみえるって言わないで" %}}

{{% image src="20220109_IMG_0027.png" caption="完成の絵 口だけこれだと動きをつけるのに問題があったのであとで変更している" %}}

iPadでお絵描きといえば、[Procreate](https://apps.apple.com/jp/app/procreate/id425073498)などのラスター画像を扱うアプリの方が先に選択肢に上がるかもしれません。なぜベクター画像を扱うVectornatorを使ったのかというと、InkscapeやFigmaなどにおけるシンプルなアイコン、ロゴ、UI部品の作成を通して、ベクター画像のほうが個人的に馴染みがあったからです。ラスター画像は切り抜きなどの画像加工こそしますが、ペインティングではほとんど使ったことがありませんでした。

また、ベクター画像は線を引いた後もその形を補正したり調整したりできます。イラストを描いてみて実感しましたが、ガタガタな線を引いても形を整えられることは、私にとって想像以上に大事な要素でした。もし一筆ずつ整った線を描く必要があったとしたら、自分が納得できるイラストの水準まで至っていなかったと思います(その水準が客観的に高い低いかはともかくとして)。

イラストが完成したのはいいとして、Live2Dアバターにするにはどうしたらいいのか、この時点ではまったく調査していませんでした。

[公式マニュアル](https://docs.live2d.com/cubism-editor-manual/divide-the-material/)を読むとモデリングの素材のインポートはpsdファイルのみを想定しているようで、Vectornatorで描いたイラストをどうやってpsdファイルとして用意するか工夫する必要があることが分かりました。

色々試した結果、

1. VectornatorからSVG出力
2. Inkscapeで範囲選択から画像(png)書き出し
3. GIMPで各pngファイルをレイヤーとしてインポートしpsd形式で書き出し

という手順でうまくいきました。厳密にはInkscapeで読み込んだ段階で一部意図しない線の乱れなどが生じ、手作業による修正が必要でしたので、複雑なイラストであればInkscapeを使うステップを変えたほうがいいかもしれません。

#### モデリング

次の情報をもとにモデリングしていきました。

モデリングの8割はこの超入門講座のガイドに沿っておこないました。すばらしい教材だと思います。<br>[Live2D 超入門講座①準備・基本操作・目と口を動かす【ディープブリザード】Facerig・Animaze](https://www.youtube.com/watch?v=SwaW002RBGQ)

自分のイラストの口は口の周辺の肌の塗りが存在しないので、超入門講座の口の動かし方からやり方を変える必要がありました。この記事にあるグルーメッシュを使って口を動かす方法を採用したことで、無事口が動くようになりました。<br>[[Live2Dメモ] 続！肌の塗り足しを行わない口の作り方（グルー利用）。[cmo3ファイル配布あり]](https://spinalien.fanbox.cc/posts/2203512)

この記事はLive 2D Cubism Editorのフリー版の制約内でモデリングをおこなう場合に工夫する点が参考になりました。<br>[3日で完成！無料版を使ったLive2Dモデルの作り方](https://vtuberkaibougaku.site/2020/05/04/live2d-free-howto/)

Live2D Cubism Editorでランダムポーズを再生させた時の感動は何にも代えがたかったです。

{{% video src="2022-01-10_16-42-21.mp4" %}}

#### FaceRigへの導入

このWikiページはLive2DアバターをFaceRigに導入する際に注意すべきことなどが網羅的に書いてあり参考になりました。<br>[FaceRigでLive2Dモデルを使えるようにする](https://live2d.wiki.fc2.com/wiki/FaceRig%E3%81%A7Live2D%E3%83%A2%E3%83%87%E3%83%AB%E3%82%92%E4%BD%BF%E3%81%88%E3%82%8B%E3%82%88%E3%81%86%E3%81%AB%E3%81%99%E3%82%8B)

### アバターの活用例

せっかくアバターができたので、VTuberっぽいことをしてみたりもしました。これで晴れてVtuberデビューしたわけですね。

{{% youtube "Xq0mo9R57Cs" %}}

ただし、やってみて思いましたが、Live2Dアバターがあるというだけでは面白い動画にはならず、色々(動画素材、トークスキルなど)用意する必要があることが分かりました。

VTuber以外にもビデオチャットでアバターを使ったり、直接顔を映したくないときに結構使えると思います。

### 今後試したいこと

FaceRigは2021年でサポートが終了したので、後継の[Animaze](https://store.steampowered.com/app/1364390/Animaze_by_FaceRig/)か[VTube Studio](https://store.steampowered.com/app/1325860/VTube_Studio/)で使えるようにしたいです。

他には、今回起こしたキャラクターデザインをもとに3Dモデリングも試してみたいなと思いました。

動くアバターがあると活動の幅が広がるので、ぜひやってみてください。
